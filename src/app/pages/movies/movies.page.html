<ion-header>
  <ion-toolbar color="primary shade">
    <ion-title>Movies app</ion-title>
  </ion-toolbar>
  <ion-toolbar color="primary">
    <ion-searchbar debounce="500" animated placeholder="Search movies" [(ngModel)]="term" (ionChange)="onIonChange($event)"></ion-searchbar>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-list>
    <ion-item button *ngFor="let item of items" [routerLink]="['/', 'movie-details', item.imdbID]" detail>
      <ion-avatar item-start margin-end>
        <ion-img [src]="item.Poster" *ngIf="item.Poster != 'N/A'"></ion-img>
      </ion-avatar>
      <ion-label text-wrap>
        <h3>{{ item.Title }}</h3>
        {{ item.Year }}
      </ion-label>
    </ion-item>
  </ion-list>

  <ion-infinite-scroll (ionInfinite)="onIonInfinite($event)" *ngIf="page < totalPages">
    <ion-infinite-scroll-content loadingSpinner="bubbles" loadingText="Loading...">
    </ion-infinite-scroll-content>
  </ion-infinite-scroll>
</ion-content>
